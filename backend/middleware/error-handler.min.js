const{CustomAPIError:CustomAPIError}=require("../errors"),errorHandlerMiddleware=(err,req,res,next)=>{let customError={statusCode:err.statusCode||500,msg:err.message||"Something went wrong"};if("ValidationError"===err.name){customError.statusCode=400;const tempError=Object.keys(err.errors).reduce((acc,key)=>(acc[key]=err.errors[key].message,acc),{});customError.msg="Validation Error",customError.error=tempError}return res.status(customError.statusCode).json({status:"Error",message:customError.msg,error:customError.error})};module.exports=errorHandlerMiddleware;