const mongoose=require("mongoose"),connectDB=async url=>{try{await mongoose.connect(url,{useNewUrlParser:!0,useUnifiedTopology:!0,serverSelectionTimeoutMS:3e4,socketTimeoutMS:45e3,connectTimeoutMS:3e4,maxPoolSize:10,retryWrites:!0,retryReads:!0}),console.log("Connected to Database"),mongoose.connection.on("connected",()=>{console.log("Mongoose connected to DB")}),mongoose.connection.on("error",err=>{console.error("Mongoose connection error:",err)}),mongoose.connection.on("disconnected",()=>{console.log("Mongoose disconnected from DB")}),process.on("SIGINT",async()=>{await mongoose.connection.close(),console.log("Mongoose connection closed due to app termination"),process.exit(0)})}catch(err){console.error("Database connection error:",err),process.exit(1)}};module.exports=connectDB;